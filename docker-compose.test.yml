version: "3.8"

services:
  testmint:
    image: cashubtc/mintd:0.13
    container_name: cdk-mint
    ports:
      - "3338:3338"
    environment:
      - CDK_MINTD_DATABASE=sqlite
      - CDK_MINTD_LN_BACKEND=fakewallet
      - CDK_MINTD_INPUT_FEE_PPK=100
      - CDK_MINTD_LISTEN_HOST=0.0.0.0
      - CDK_MINTD_LISTEN_PORT=3338
      - CDK_MINTD_FAKE_WALLET_MIN_DELAY=0
      - CDK_MINTD_FAKE_WALLET_MAX_DELAY=0
      - CDK_MINTD_MNEMONIC=abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:3338/v1/info"]
      interval: 5s
      timeout: 3s
      retries: 10
      start_period: 10s
